-- Drop existing tables if they exist
DROP TABLE IF EXISTS ECOM_SALES_DATA;
DROP TABLE IF EXISTS CUSTOMER;

CREATE TABLE CUSTOMER (
    CUSTOMER_ID BIGINT AUTO_INCREMENT PRIMARY KEY,
    NAME VARCHAR(255) NOT NULL,
    EMAIL VARCHAR(255) UNIQUE NOT NULL
);

CREATE TABLE ECOM_SALES_DATA (
    RECORD_INDEX INT AUTO_INCREMENT PRIMARY KEY,
    ORDER_ID VARCHAR(50) UNIQUE NOT NULL,
    ORDER_DATE DATE,
    STATUS VARCHAR(20),
    FULFILMENT VARCHAR(50),
    CHANNEL VARCHAR(50),
    CATEGORY VARCHAR(50),
    SIZE VARCHAR(10),
    AMOUNT DOUBLE,
    SHIP_CITY VARCHAR(50),
    SHIP_STATE VARCHAR(50),
    CUSTOMER_ID BIGINT,
    FOREIGN KEY (CUSTOMER_ID) REFERENCES CUSTOMER(CUSTOMER_ID)
);